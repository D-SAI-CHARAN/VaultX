{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"../auth/supabaseClient","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":156},"end":{"line":5,"column":69,"index":225}}],"key":"N6WSRy60K8929CSDB5Gy6caq2pI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.checkBucketAccess = checkBucketAccess;\n  exports.uploadShard = uploadShard;\n  exports.uploadAllShards = uploadAllShards;\n  exports.downloadShard = downloadShard;\n  exports.downloadAllShards = downloadAllShards;\n  exports.cleanupShards = cleanupShards;\n  exports.deleteDocumentShards = deleteDocumentShards;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _authSupabaseClient = require(_dependencyMap[1], \"../auth/supabaseClient\");\n  // Cloud Storage Service - Zero Knowledge Vault\n  // Uploads ONLY encrypted shards with random UUID filenames\n  // Server sees meaningless blobs - no metadata\n  /**\n   * Check if storage bucket is accessible by trying to list files\n   */\n  function checkBucketAccess() {\n    return _checkBucketAccess.apply(this, arguments);\n  }\n  /**\n   * Upload a single shard to Supabase Storage\n   * Filename is the random UUID - no relation to original file\n   */\n  function _checkBucketAccess() {\n    _checkBucketAccess = (0, _asyncToGenerator.default)(function* () {\n      try {\n        var supabase = (0, _authSupabaseClient.getSupabase)();\n        // Just try to list - this works with regular auth\n        var _yield$supabase$stora = yield supabase.storage.from(_authSupabaseClient.STORAGE_BUCKET).list('', {\n            limit: 1\n          }),\n          data = _yield$supabase$stora.data,\n          error = _yield$supabase$stora.error;\n        if (error) {\n          console.error('Bucket access error:', error);\n          return {\n            success: false,\n            error: `Storage error: ${error.message}`\n          };\n        }\n        console.log('Bucket access OK');\n        return {\n          success: true\n        };\n      } catch (error) {\n        console.error('Bucket check exception:', error);\n        return {\n          success: false,\n          error: error.message\n        };\n      }\n    });\n    return _checkBucketAccess.apply(this, arguments);\n  }\n  function uploadShard(_x, _x2) {\n    return _uploadShard.apply(this, arguments);\n  }\n  /**\n   * Upload all shards for a document\n   */\n  function _uploadShard() {\n    _uploadShard = (0, _asyncToGenerator.default)(function* (shard, userId) {\n      try {\n        var supabase = (0, _authSupabaseClient.getSupabase)();\n\n        // Path: userId/shardUUID (user folder for RLS)\n        var filePath = `${userId}/${shard.id}`;\n        console.log(`Uploading shard ${shard.id} to ${filePath}, data length: ${shard.data.length}`);\n\n        // Convert string to ArrayBuffer for upload\n        var encoder = new TextEncoder();\n        var uint8Array = encoder.encode(shard.data);\n        var _yield$supabase$stora2 = yield supabase.storage.from(_authSupabaseClient.STORAGE_BUCKET).upload(filePath, uint8Array, {\n            contentType: 'application/octet-stream',\n            upsert: true\n          }),\n          data = _yield$supabase$stora2.data,\n          error = _yield$supabase$stora2.error;\n        if (error) {\n          console.error('Shard upload error:', JSON.stringify(error));\n          return {\n            success: false,\n            error: error.message\n          };\n        }\n        console.log(`Shard ${shard.id} uploaded successfully:`, data);\n        return {\n          success: true,\n          shardId: shard.id\n        };\n      } catch (error) {\n        console.error('Shard upload exception:', error);\n        return {\n          success: false,\n          error: error.message || 'Upload failed'\n        };\n      }\n    });\n    return _uploadShard.apply(this, arguments);\n  }\n  function uploadAllShards(_x3, _x4, _x5) {\n    return _uploadAllShards.apply(this, arguments);\n  }\n  /**\n   * Download a shard from Supabase Storage\n   */\n  function _uploadAllShards() {\n    _uploadAllShards = (0, _asyncToGenerator.default)(function* (shards, userId, onProgress) {\n      var shardIds = [];\n      console.log(`Starting upload of ${shards.length} shards for user ${userId}`);\n      for (var i = 0; i < shards.length; i++) {\n        var result = yield uploadShard(shards[i], userId);\n        if (!result.success) {\n          console.error(`Failed at shard ${i + 1}, cleaning up...`);\n          yield cleanupShards(shardIds, userId);\n          return {\n            success: false,\n            error: `Shard ${i + 1}/${shards.length} failed: ${result.error}`\n          };\n        }\n        shardIds.push(result.shardId);\n        onProgress?.(i + 1, shards.length);\n      }\n      console.log('All shards uploaded successfully:', shardIds);\n      return {\n        success: true,\n        shardIds\n      };\n    });\n    return _uploadAllShards.apply(this, arguments);\n  }\n  function downloadShard(_x6, _x7) {\n    return _downloadShard.apply(this, arguments);\n  }\n  /**\n   * Download all shards for a document\n   */\n  function _downloadShard() {\n    _downloadShard = (0, _asyncToGenerator.default)(function* (shardId, userId) {\n      try {\n        var supabase = (0, _authSupabaseClient.getSupabase)();\n        var filePath = `${userId}/${shardId}`;\n        console.log(`Downloading shard from ${filePath}`);\n        var _yield$supabase$stora3 = yield supabase.storage.from(_authSupabaseClient.STORAGE_BUCKET).download(filePath),\n          data = _yield$supabase$stora3.data,\n          error = _yield$supabase$stora3.error;\n        if (error) {\n          console.error('Shard download error:', error);\n          return {\n            success: false,\n            error: error.message\n          };\n        }\n        if (!data) {\n          return {\n            success: false,\n            error: 'No data received'\n          };\n        }\n\n        // Convert blob to string using FileReader\n        var text = yield new Promise((resolve, reject) => {\n          var reader = new FileReader();\n          reader.onloadend = () => resolve(reader.result);\n          reader.onerror = () => reject(new Error('Failed to read blob'));\n          reader.readAsText(data);\n        });\n        console.log(`Shard ${shardId} downloaded, size: ${text.length}`);\n        return {\n          success: true,\n          data: text\n        };\n      } catch (error) {\n        console.error('Shard download exception:', error);\n        return {\n          success: false,\n          error: error.message || 'Download failed'\n        };\n      }\n    });\n    return _downloadShard.apply(this, arguments);\n  }\n  function downloadAllShards(_x8, _x9, _x0, _x1) {\n    return _downloadAllShards.apply(this, arguments);\n  }\n  /**\n   * Delete shards from storage\n   */\n  function _downloadAllShards() {\n    _downloadAllShards = (0, _asyncToGenerator.default)(function* (shardIds, indices, userId, onProgress) {\n      var shards = [];\n      console.log(`Starting download of ${shardIds.length} shards`);\n      for (var i = 0; i < shardIds.length; i++) {\n        var result = yield downloadShard(shardIds[i], userId);\n        if (!result.success) {\n          return {\n            success: false,\n            error: `Failed to download shard ${i + 1}: ${result.error}`\n          };\n        }\n        shards.push({\n          id: shardIds[i],\n          data: result.data,\n          index: indices[i]\n        });\n        onProgress?.(i + 1, shardIds.length);\n      }\n      console.log('All shards downloaded successfully');\n      return {\n        success: true,\n        shards\n      };\n    });\n    return _downloadAllShards.apply(this, arguments);\n  }\n  function cleanupShards(_x10, _x11) {\n    return _cleanupShards.apply(this, arguments);\n  }\n  /**\n   * Delete a document's shards\n   */\n  function _cleanupShards() {\n    _cleanupShards = (0, _asyncToGenerator.default)(function* (shardIds, userId) {\n      try {\n        var supabase = (0, _authSupabaseClient.getSupabase)();\n        var filePaths = shardIds.map(id => `${userId}/${id}`);\n        yield supabase.storage.from(_authSupabaseClient.STORAGE_BUCKET).remove(filePaths);\n      } catch (error) {\n        console.error('Failed to cleanup shards:', error);\n      }\n    });\n    return _cleanupShards.apply(this, arguments);\n  }\n  function deleteDocumentShards(_x12, _x13) {\n    return _deleteDocumentShards.apply(this, arguments);\n  }\n  function _deleteDocumentShards() {\n    _deleteDocumentShards = (0, _asyncToGenerator.default)(function* (shardIds, userId) {\n      try {\n        var supabase = (0, _authSupabaseClient.getSupabase)();\n        var filePaths = shardIds.map(id => `${userId}/${id}`);\n        var _yield$supabase$stora4 = yield supabase.storage.from(_authSupabaseClient.STORAGE_BUCKET).remove(filePaths),\n          error = _yield$supabase$stora4.error;\n        if (error) {\n          return {\n            success: false,\n            error: error.message\n          };\n        }\n        return {\n          success: true\n        };\n      } catch (error) {\n        return {\n          success: false,\n          error: error.message || 'Delete failed'\n        };\n      }\n    });\n    return _deleteDocumentShards.apply(this, arguments);\n  }\n});","lineCount":273,"map":[[12,2,17,0,"exports"],[12,9,17,0],[12,10,17,0,"checkBucketAccess"],[12,27,17,0],[12,30,17,0,"checkBucketAccess"],[12,47,17,0],[13,2,45,0,"exports"],[13,9,45,0],[13,10,45,0,"uploadShard"],[13,21,45,0],[13,24,45,0,"uploadShard"],[13,35,45,0],[14,2,84,0,"exports"],[14,9,84,0],[14,10,84,0,"uploadAllShards"],[14,25,84,0],[14,28,84,0,"uploadAllShards"],[14,43,84,0],[15,2,113,0,"exports"],[15,9,113,0],[15,10,113,0,"downloadShard"],[15,23,113,0],[15,26,113,0,"downloadShard"],[15,39,113,0],[16,2,155,0,"exports"],[16,9,155,0],[16,10,155,0,"downloadAllShards"],[16,27,155,0],[16,30,155,0,"downloadAllShards"],[16,47,155,0],[17,2,188,0,"exports"],[17,9,188,0],[17,10,188,0,"cleanupShards"],[17,23,188,0],[17,26,188,0,"cleanupShards"],[17,39,188,0],[18,2,204,0,"exports"],[18,9,204,0],[18,10,204,0,"deleteDocumentShards"],[18,30,204,0],[18,33,204,0,"deleteDocumentShards"],[18,53,204,0],[19,2,221,1],[19,6,221,1,"_babelRuntimeHelpersAsyncToGenerator"],[19,42,221,1],[19,45,221,1,"require"],[19,52,221,1],[19,53,221,1,"_dependencyMap"],[19,67,221,1],[20,2,221,1],[20,6,221,1,"_asyncToGenerator"],[20,23,221,1],[20,26,221,1,"_interopDefault"],[20,41,221,1],[20,42,221,1,"_babelRuntimeHelpersAsyncToGenerator"],[20,78,221,1],[21,2,5,0],[21,6,5,0,"_authSupabaseClient"],[21,25,5,0],[21,28,5,0,"require"],[21,35,5,0],[21,36,5,0,"_dependencyMap"],[21,50,5,0],[22,2,1,0],[23,2,2,0],[24,2,3,0],[25,2,14,0],[26,0,15,0],[27,0,16,0],[28,2,14,0],[28,11,17,22,"checkBucketAccess"],[28,28,17,39,"checkBucketAccess"],[28,29,17,39],[29,4,17,39],[29,11,17,39,"_checkBucketAccess"],[29,29,17,39],[29,30,17,39,"apply"],[29,35,17,39],[29,42,17,39,"arguments"],[29,51,17,39],[30,2,17,39],[31,2,41,0],[32,0,42,0],[33,0,43,0],[34,0,44,0],[35,2,41,0],[35,11,41,0,"_checkBucketAccess"],[35,30,41,0],[36,4,41,0,"_checkBucketAccess"],[36,22,41,0],[36,29,41,0,"_asyncToGenerator"],[36,46,41,0],[36,47,41,0,"default"],[36,54,41,0],[36,56,17,7],[36,69,17,89],[37,6,18,2],[37,10,18,6],[38,8,19,4],[38,12,19,10,"supabase"],[38,20,19,18],[38,23,19,21],[38,27,19,21,"getSupabase"],[38,46,19,32],[38,47,19,32,"getSupabase"],[38,58,19,32],[38,60,19,33],[38,61,19,34],[39,8,20,4],[40,8,21,4],[40,12,21,4,"_yield$supabase$stora"],[40,33,21,4],[40,42,21,34,"supabase"],[40,50,21,42],[40,51,21,43,"storage"],[40,58,21,50],[40,59,22,7,"from"],[40,63,22,11],[40,64,22,12,"STORAGE_BUCKET"],[40,83,22,26],[40,84,22,26,"STORAGE_BUCKET"],[40,98,22,26],[40,99,22,27],[40,100,23,7,"list"],[40,104,23,11],[40,105,23,12],[40,107,23,14],[40,109,23,16],[41,12,23,18,"limit"],[41,17,23,23],[41,19,23,25],[42,10,23,27],[42,11,23,28],[42,12,23,29],[43,10,21,12,"data"],[43,14,21,16],[43,17,21,16,"_yield$supabase$stora"],[43,38,21,16],[43,39,21,12,"data"],[43,43,21,16],[44,10,21,18,"error"],[44,15,21,23],[44,18,21,23,"_yield$supabase$stora"],[44,39,21,23],[44,40,21,18,"error"],[44,45,21,23],[45,8,25,4],[45,12,25,8,"error"],[45,17,25,13],[45,19,25,15],[46,10,26,6,"console"],[46,17,26,13],[46,18,26,14,"error"],[46,23,26,19],[46,24,26,20],[46,46,26,42],[46,48,26,44,"error"],[46,53,26,49],[46,54,26,50],[47,10,27,6],[47,17,27,13],[48,12,28,8,"success"],[48,19,28,15],[48,21,28,17],[48,26,28,22],[49,12,29,8,"error"],[49,17,29,13],[49,19,29,15],[49,37,29,33,"error"],[49,42,29,38],[49,43,29,39,"message"],[49,50,29,46],[50,10,30,6],[50,11,30,7],[51,8,31,4],[52,8,33,4,"console"],[52,15,33,11],[52,16,33,12,"log"],[52,19,33,15],[52,20,33,16],[52,38,33,34],[52,39,33,35],[53,8,34,4],[53,15,34,11],[54,10,34,13,"success"],[54,17,34,20],[54,19,34,22],[55,8,34,27],[55,9,34,28],[56,6,35,2],[56,7,35,3],[56,8,35,4],[56,15,35,11,"error"],[56,20,35,21],[56,22,35,23],[57,8,36,4,"console"],[57,15,36,11],[57,16,36,12,"error"],[57,21,36,17],[57,22,36,18],[57,47,36,43],[57,49,36,45,"error"],[57,54,36,50],[57,55,36,51],[58,8,37,4],[58,15,37,11],[59,10,37,13,"success"],[59,17,37,20],[59,19,37,22],[59,24,37,27],[60,10,37,29,"error"],[60,15,37,34],[60,17,37,36,"error"],[60,22,37,41],[60,23,37,42,"message"],[61,8,37,50],[61,9,37,51],[62,6,38,2],[63,4,39,0],[63,5,39,1],[64,4,39,1],[64,11,39,1,"_checkBucketAccess"],[64,29,39,1],[64,30,39,1,"apply"],[64,35,39,1],[64,42,39,1,"arguments"],[64,51,39,1],[65,2,39,1],[66,2,39,1],[66,11,45,22,"uploadShard"],[66,22,45,33,"uploadShard"],[66,23,45,33,"_x"],[66,25,45,33],[66,27,45,33,"_x2"],[66,30,45,33],[67,4,45,33],[67,11,45,33,"_uploadShard"],[67,23,45,33],[67,24,45,33,"apply"],[67,29,45,33],[67,36,45,33,"arguments"],[67,45,45,33],[68,2,45,33],[69,2,81,0],[70,0,82,0],[71,0,83,0],[72,2,81,0],[72,11,81,0,"_uploadShard"],[72,24,81,0],[73,4,81,0,"_uploadShard"],[73,16,81,0],[73,23,81,0,"_asyncToGenerator"],[73,40,81,0],[73,41,81,0,"default"],[73,48,81,0],[73,50,45,7],[73,61,46,2,"shard"],[73,66,46,14],[73,68,47,2,"userId"],[73,74,47,16],[73,76,48,25],[74,6,49,2],[74,10,49,6],[75,8,50,4],[75,12,50,10,"supabase"],[75,20,50,18],[75,23,50,21],[75,27,50,21,"getSupabase"],[75,46,50,32],[75,47,50,32,"getSupabase"],[75,58,50,32],[75,60,50,33],[75,61,50,34],[77,8,52,4],[78,8,53,4],[78,12,53,10,"filePath"],[78,20,53,18],[78,23,53,21],[78,26,53,24,"userId"],[78,32,53,30],[78,36,53,34,"shard"],[78,41,53,39],[78,42,53,40,"id"],[78,44,53,42],[78,46,53,44],[79,8,55,4,"console"],[79,15,55,11],[79,16,55,12,"log"],[79,19,55,15],[79,20,55,16],[79,39,55,35,"shard"],[79,44,55,40],[79,45,55,41,"id"],[79,47,55,43],[79,54,55,50,"filePath"],[79,62,55,58],[79,80,55,76,"shard"],[79,85,55,81],[79,86,55,82,"data"],[79,90,55,86],[79,91,55,87,"length"],[79,97,55,93],[79,99,55,95],[79,100,55,96],[81,8,57,4],[82,8,58,4],[82,12,58,10,"encoder"],[82,19,58,17],[82,22,58,20],[82,26,58,24,"TextEncoder"],[82,37,58,35],[82,38,58,36],[82,39,58,37],[83,8,59,4],[83,12,59,10,"uint8Array"],[83,22,59,20],[83,25,59,23,"encoder"],[83,32,59,30],[83,33,59,31,"encode"],[83,39,59,37],[83,40,59,38,"shard"],[83,45,59,43],[83,46,59,44,"data"],[83,50,59,48],[83,51,59,49],[84,8,61,4],[84,12,61,4,"_yield$supabase$stora2"],[84,34,61,4],[84,43,61,34,"supabase"],[84,51,61,42],[84,52,61,43,"storage"],[84,59,61,50],[84,60,62,7,"from"],[84,64,62,11],[84,65,62,12,"STORAGE_BUCKET"],[84,84,62,26],[84,85,62,26,"STORAGE_BUCKET"],[84,99,62,26],[84,100,62,27],[84,101,63,7,"upload"],[84,107,63,13],[84,108,63,14,"filePath"],[84,116,63,22],[84,118,63,24,"uint8Array"],[84,128,63,34],[84,130,63,36],[85,12,64,8,"contentType"],[85,23,64,19],[85,25,64,21],[85,51,64,47],[86,12,65,8,"upsert"],[86,18,65,14],[86,20,65,16],[87,10,66,6],[87,11,66,7],[87,12,66,8],[88,10,61,12,"data"],[88,14,61,16],[88,17,61,16,"_yield$supabase$stora2"],[88,39,61,16],[88,40,61,12,"data"],[88,44,61,16],[89,10,61,18,"error"],[89,15,61,23],[89,18,61,23,"_yield$supabase$stora2"],[89,40,61,23],[89,41,61,18,"error"],[89,46,61,23],[90,8,68,4],[90,12,68,8,"error"],[90,17,68,13],[90,19,68,15],[91,10,69,6,"console"],[91,17,69,13],[91,18,69,14,"error"],[91,23,69,19],[91,24,69,20],[91,45,69,41],[91,47,69,43,"JSON"],[91,51,69,47],[91,52,69,48,"stringify"],[91,61,69,57],[91,62,69,58,"error"],[91,67,69,63],[91,68,69,64],[91,69,69,65],[92,10,70,6],[92,17,70,13],[93,12,70,15,"success"],[93,19,70,22],[93,21,70,24],[93,26,70,29],[94,12,70,31,"error"],[94,17,70,36],[94,19,70,38,"error"],[94,24,70,43],[94,25,70,44,"message"],[95,10,70,52],[95,11,70,53],[96,8,71,4],[97,8,73,4,"console"],[97,15,73,11],[97,16,73,12,"log"],[97,19,73,15],[97,20,73,16],[97,29,73,25,"shard"],[97,34,73,30],[97,35,73,31,"id"],[97,37,73,33],[97,62,73,58],[97,64,73,60,"data"],[97,68,73,64],[97,69,73,65],[98,8,74,4],[98,15,74,11],[99,10,74,13,"success"],[99,17,74,20],[99,19,74,22],[99,23,74,26],[100,10,74,28,"shardId"],[100,17,74,35],[100,19,74,37,"shard"],[100,24,74,42],[100,25,74,43,"id"],[101,8,74,46],[101,9,74,47],[102,6,75,2],[102,7,75,3],[102,8,75,4],[102,15,75,11,"error"],[102,20,75,21],[102,22,75,23],[103,8,76,4,"console"],[103,15,76,11],[103,16,76,12,"error"],[103,21,76,17],[103,22,76,18],[103,47,76,43],[103,49,76,45,"error"],[103,54,76,50],[103,55,76,51],[104,8,77,4],[104,15,77,11],[105,10,77,13,"success"],[105,17,77,20],[105,19,77,22],[105,24,77,27],[106,10,77,29,"error"],[106,15,77,34],[106,17,77,36,"error"],[106,22,77,41],[106,23,77,42,"message"],[106,30,77,49],[106,34,77,53],[107,8,77,69],[107,9,77,70],[108,6,78,2],[109,4,79,0],[109,5,79,1],[110,4,79,1],[110,11,79,1,"_uploadShard"],[110,23,79,1],[110,24,79,1,"apply"],[110,29,79,1],[110,36,79,1,"arguments"],[110,45,79,1],[111,2,79,1],[112,2,79,1],[112,11,84,22,"uploadAllShards"],[112,26,84,37,"uploadAllShards"],[112,27,84,37,"_x3"],[112,30,84,37],[112,32,84,37,"_x4"],[112,35,84,37],[112,37,84,37,"_x5"],[112,40,84,37],[113,4,84,37],[113,11,84,37,"_uploadAllShards"],[113,27,84,37],[113,28,84,37,"apply"],[113,33,84,37],[113,40,84,37,"arguments"],[113,49,84,37],[114,2,84,37],[115,2,110,0],[116,0,111,0],[117,0,112,0],[118,2,110,0],[118,11,110,0,"_uploadAllShards"],[118,28,110,0],[119,4,110,0,"_uploadAllShards"],[119,20,110,0],[119,27,110,0,"_asyncToGenerator"],[119,44,110,0],[119,45,110,0,"default"],[119,52,110,0],[119,54,84,7],[119,65,85,2,"shards"],[119,71,85,17],[119,73,86,2,"userId"],[119,79,86,16],[119,81,87,2,"onProgress"],[119,91,87,55],[119,93,88,70],[120,6,89,2],[120,10,89,8,"shardIds"],[120,18,89,26],[120,21,89,29],[120,23,89,31],[121,6,91,2,"console"],[121,13,91,9],[121,14,91,10,"log"],[121,17,91,13],[121,18,91,14],[121,40,91,36,"shards"],[121,46,91,42],[121,47,91,43,"length"],[121,53,91,49],[121,73,91,69,"userId"],[121,79,91,75],[121,81,91,77],[121,82,91,78],[122,6,93,2],[122,11,93,7],[122,15,93,11,"i"],[122,16,93,12],[122,19,93,15],[122,20,93,16],[122,22,93,18,"i"],[122,23,93,19],[122,26,93,22,"shards"],[122,32,93,28],[122,33,93,29,"length"],[122,39,93,35],[122,41,93,37,"i"],[122,42,93,38],[122,44,93,40],[122,46,93,42],[123,8,94,4],[123,12,94,10,"result"],[123,18,94,16],[123,27,94,25,"uploadShard"],[123,38,94,36],[123,39,94,37,"shards"],[123,45,94,43],[123,46,94,44,"i"],[123,47,94,45],[123,48,94,46],[123,50,94,48,"userId"],[123,56,94,54],[123,57,94,55],[124,8,96,4],[124,12,96,8],[124,13,96,9,"result"],[124,19,96,15],[124,20,96,16,"success"],[124,27,96,23],[124,29,96,25],[125,10,97,6,"console"],[125,17,97,13],[125,18,97,14,"error"],[125,23,97,19],[125,24,97,20],[125,43,97,39,"i"],[125,44,97,40],[125,47,97,43],[125,48,97,44],[125,66,97,62],[125,67,97,63],[126,10,98,6],[126,16,98,12,"cleanupShards"],[126,29,98,25],[126,30,98,26,"shardIds"],[126,38,98,34],[126,40,98,36,"userId"],[126,46,98,42],[126,47,98,43],[127,10,99,6],[127,17,99,13],[128,12,99,15,"success"],[128,19,99,22],[128,21,99,24],[128,26,99,29],[129,12,99,31,"error"],[129,17,99,36],[129,19,99,38],[129,28,99,47,"i"],[129,29,99,48],[129,32,99,51],[129,33,99,52],[129,37,99,56,"shards"],[129,43,99,62],[129,44,99,63,"length"],[129,50,99,69],[129,62,99,81,"result"],[129,68,99,87],[129,69,99,88,"error"],[129,74,99,93],[130,10,99,96],[130,11,99,97],[131,8,100,4],[132,8,102,4,"shardIds"],[132,16,102,12],[132,17,102,13,"push"],[132,21,102,17],[132,22,102,18,"result"],[132,28,102,24],[132,29,102,25,"shardId"],[132,36,102,33],[132,37,102,34],[133,8,103,4,"onProgress"],[133,18,103,14],[133,21,103,17,"i"],[133,22,103,18],[133,25,103,21],[133,26,103,22],[133,28,103,24,"shards"],[133,34,103,30],[133,35,103,31,"length"],[133,41,103,37],[133,42,103,38],[134,6,104,2],[135,6,106,2,"console"],[135,13,106,9],[135,14,106,10,"log"],[135,17,106,13],[135,18,106,14],[135,53,106,49],[135,55,106,51,"shardIds"],[135,63,106,59],[135,64,106,60],[136,6,107,2],[136,13,107,9],[137,8,107,11,"success"],[137,15,107,18],[137,17,107,20],[137,21,107,24],[138,8,107,26,"shardIds"],[139,6,107,35],[139,7,107,36],[140,4,108,0],[140,5,108,1],[141,4,108,1],[141,11,108,1,"_uploadAllShards"],[141,27,108,1],[141,28,108,1,"apply"],[141,33,108,1],[141,40,108,1,"arguments"],[141,49,108,1],[142,2,108,1],[143,2,108,1],[143,11,113,22,"downloadShard"],[143,24,113,35,"downloadShard"],[143,25,113,35,"_x6"],[143,28,113,35],[143,30,113,35,"_x7"],[143,33,113,35],[144,4,113,35],[144,11,113,35,"_downloadShard"],[144,25,113,35],[144,26,113,35,"apply"],[144,31,113,35],[144,38,113,35,"arguments"],[144,47,113,35],[145,2,113,35],[146,2,152,0],[147,0,153,0],[148,0,154,0],[149,2,152,0],[149,11,152,0,"_downloadShard"],[149,26,152,0],[150,4,152,0,"_downloadShard"],[150,18,152,0],[150,25,152,0,"_asyncToGenerator"],[150,42,152,0],[150,43,152,0,"default"],[150,50,152,0],[150,52,113,7],[150,63,114,2,"shardId"],[150,70,114,17],[150,72,115,2,"userId"],[150,78,115,16],[150,80,116,64],[151,6,117,2],[151,10,117,6],[152,8,118,4],[152,12,118,10,"supabase"],[152,20,118,18],[152,23,118,21],[152,27,118,21,"getSupabase"],[152,46,118,32],[152,47,118,32,"getSupabase"],[152,58,118,32],[152,60,118,33],[152,61,118,34],[153,8,119,4],[153,12,119,10,"filePath"],[153,20,119,18],[153,23,119,21],[153,26,119,24,"userId"],[153,32,119,30],[153,36,119,34,"shardId"],[153,43,119,41],[153,45,119,43],[154,8,121,4,"console"],[154,15,121,11],[154,16,121,12,"log"],[154,19,121,15],[154,20,121,16],[154,46,121,42,"filePath"],[154,54,121,50],[154,56,121,52],[154,57,121,53],[155,8,123,4],[155,12,123,4,"_yield$supabase$stora3"],[155,34,123,4],[155,43,123,34,"supabase"],[155,51,123,42],[155,52,123,43,"storage"],[155,59,123,50],[155,60,124,7,"from"],[155,64,124,11],[155,65,124,12,"STORAGE_BUCKET"],[155,84,124,26],[155,85,124,26,"STORAGE_BUCKET"],[155,99,124,26],[155,100,124,27],[155,101,125,7,"download"],[155,109,125,15],[155,110,125,16,"filePath"],[155,118,125,24],[155,119,125,25],[156,10,123,12,"data"],[156,14,123,16],[156,17,123,16,"_yield$supabase$stora3"],[156,39,123,16],[156,40,123,12,"data"],[156,44,123,16],[157,10,123,18,"error"],[157,15,123,23],[157,18,123,23,"_yield$supabase$stora3"],[157,40,123,23],[157,41,123,18,"error"],[157,46,123,23],[158,8,127,4],[158,12,127,8,"error"],[158,17,127,13],[158,19,127,15],[159,10,128,6,"console"],[159,17,128,13],[159,18,128,14,"error"],[159,23,128,19],[159,24,128,20],[159,47,128,43],[159,49,128,45,"error"],[159,54,128,50],[159,55,128,51],[160,10,129,6],[160,17,129,13],[161,12,129,15,"success"],[161,19,129,22],[161,21,129,24],[161,26,129,29],[162,12,129,31,"error"],[162,17,129,36],[162,19,129,38,"error"],[162,24,129,43],[162,25,129,44,"message"],[163,10,129,52],[163,11,129,53],[164,8,130,4],[165,8,132,4],[165,12,132,8],[165,13,132,9,"data"],[165,17,132,13],[165,19,132,15],[166,10,133,6],[166,17,133,13],[167,12,133,15,"success"],[167,19,133,22],[167,21,133,24],[167,26,133,29],[168,12,133,31,"error"],[168,17,133,36],[168,19,133,38],[169,10,133,57],[169,11,133,58],[170,8,134,4],[172,8,136,4],[173,8,137,4],[173,12,137,10,"text"],[173,16,137,14],[173,25,137,23],[173,29,137,27,"Promise"],[173,36,137,34],[173,37,137,43],[173,38,137,44,"resolve"],[173,45,137,51],[173,47,137,53,"reject"],[173,53,137,59],[173,58,137,64],[174,10,138,6],[174,14,138,12,"reader"],[174,20,138,18],[174,23,138,21],[174,27,138,25,"FileReader"],[174,37,138,35],[174,38,138,36],[174,39,138,37],[175,10,139,6,"reader"],[175,16,139,12],[175,17,139,13,"onloadend"],[175,26,139,22],[175,29,139,25],[175,35,139,31,"resolve"],[175,42,139,38],[175,43,139,39,"reader"],[175,49,139,45],[175,50,139,46,"result"],[175,56,139,62],[175,57,139,63],[176,10,140,6,"reader"],[176,16,140,12],[176,17,140,13,"onerror"],[176,24,140,20],[176,27,140,23],[176,33,140,29,"reject"],[176,39,140,35],[176,40,140,36],[176,44,140,40,"Error"],[176,49,140,45],[176,50,140,46],[176,71,140,67],[176,72,140,68],[176,73,140,69],[177,10,141,6,"reader"],[177,16,141,12],[177,17,141,13,"readAsText"],[177,27,141,23],[177,28,141,24,"data"],[177,32,141,28],[177,33,141,29],[178,8,142,4],[178,9,142,5],[178,10,142,6],[179,8,144,4,"console"],[179,15,144,11],[179,16,144,12,"log"],[179,19,144,15],[179,20,144,16],[179,29,144,25,"shardId"],[179,36,144,32],[179,58,144,54,"text"],[179,62,144,58],[179,63,144,59,"length"],[179,69,144,65],[179,71,144,67],[179,72,144,68],[180,8,145,4],[180,15,145,11],[181,10,145,13,"success"],[181,17,145,20],[181,19,145,22],[181,23,145,26],[182,10,145,28,"data"],[182,14,145,32],[182,16,145,34,"text"],[183,8,145,39],[183,9,145,40],[184,6,146,2],[184,7,146,3],[184,8,146,4],[184,15,146,11,"error"],[184,20,146,21],[184,22,146,23],[185,8,147,4,"console"],[185,15,147,11],[185,16,147,12,"error"],[185,21,147,17],[185,22,147,18],[185,49,147,45],[185,51,147,47,"error"],[185,56,147,52],[185,57,147,53],[186,8,148,4],[186,15,148,11],[187,10,148,13,"success"],[187,17,148,20],[187,19,148,22],[187,24,148,27],[188,10,148,29,"error"],[188,15,148,34],[188,17,148,36,"error"],[188,22,148,41],[188,23,148,42,"message"],[188,30,148,49],[188,34,148,53],[189,8,148,71],[189,9,148,72],[190,6,149,2],[191,4,150,0],[191,5,150,1],[192,4,150,1],[192,11,150,1,"_downloadShard"],[192,25,150,1],[192,26,150,1,"apply"],[192,31,150,1],[192,38,150,1,"arguments"],[192,47,150,1],[193,2,150,1],[194,2,150,1],[194,11,155,22,"downloadAllShards"],[194,28,155,39,"downloadAllShards"],[194,29,155,39,"_x8"],[194,32,155,39],[194,34,155,39,"_x9"],[194,37,155,39],[194,39,155,39,"_x0"],[194,42,155,39],[194,44,155,39,"_x1"],[194,47,155,39],[195,4,155,39],[195,11,155,39,"_downloadAllShards"],[195,29,155,39],[195,30,155,39,"apply"],[195,35,155,39],[195,42,155,39,"arguments"],[195,51,155,39],[196,2,155,39],[197,2,185,0],[198,0,186,0],[199,0,187,0],[200,2,185,0],[200,11,185,0,"_downloadAllShards"],[200,30,185,0],[201,4,185,0,"_downloadAllShards"],[201,22,185,0],[201,29,185,0,"_asyncToGenerator"],[201,46,185,0],[201,47,185,0,"default"],[201,54,185,0],[201,56,155,7],[201,67,156,2,"shardIds"],[201,75,156,20],[201,77,157,2,"indices"],[201,84,157,19],[201,86,158,2,"userId"],[201,92,158,16],[201,94,159,2,"onProgress"],[201,104,159,55],[201,106,160,67],[202,6,161,2],[202,10,161,8,"shards"],[202,16,161,23],[202,19,161,26],[202,21,161,28],[203,6,163,2,"console"],[203,13,163,9],[203,14,163,10,"log"],[203,17,163,13],[203,18,163,14],[203,42,163,38,"shardIds"],[203,50,163,46],[203,51,163,47,"length"],[203,57,163,53],[203,66,163,62],[203,67,163,63],[204,6,165,2],[204,11,165,7],[204,15,165,11,"i"],[204,16,165,12],[204,19,165,15],[204,20,165,16],[204,22,165,18,"i"],[204,23,165,19],[204,26,165,22,"shardIds"],[204,34,165,30],[204,35,165,31,"length"],[204,41,165,37],[204,43,165,39,"i"],[204,44,165,40],[204,46,165,42],[204,48,165,44],[205,8,166,4],[205,12,166,10,"result"],[205,18,166,16],[205,27,166,25,"downloadShard"],[205,40,166,38],[205,41,166,39,"shardIds"],[205,49,166,47],[205,50,166,48,"i"],[205,51,166,49],[205,52,166,50],[205,54,166,52,"userId"],[205,60,166,58],[205,61,166,59],[206,8,168,4],[206,12,168,8],[206,13,168,9,"result"],[206,19,168,15],[206,20,168,16,"success"],[206,27,168,23],[206,29,168,25],[207,10,169,6],[207,17,169,13],[208,12,169,15,"success"],[208,19,169,22],[208,21,169,24],[208,26,169,29],[209,12,169,31,"error"],[209,17,169,36],[209,19,169,38],[209,47,169,66,"i"],[209,48,169,67],[209,51,169,70],[209,52,169,71],[209,57,169,76,"result"],[209,63,169,82],[209,64,169,83,"error"],[209,69,169,88],[210,10,169,91],[210,11,169,92],[211,8,170,4],[212,8,172,4,"shards"],[212,14,172,10],[212,15,172,11,"push"],[212,19,172,15],[212,20,172,16],[213,10,173,6,"id"],[213,12,173,8],[213,14,173,10,"shardIds"],[213,22,173,18],[213,23,173,19,"i"],[213,24,173,20],[213,25,173,21],[214,10,174,6,"data"],[214,14,174,10],[214,16,174,12,"result"],[214,22,174,18],[214,23,174,19,"data"],[214,27,174,24],[215,10,175,6,"index"],[215,15,175,11],[215,17,175,13,"indices"],[215,24,175,20],[215,25,175,21,"i"],[215,26,175,22],[216,8,176,4],[216,9,176,5],[216,10,176,6],[217,8,178,4,"onProgress"],[217,18,178,14],[217,21,178,17,"i"],[217,22,178,18],[217,25,178,21],[217,26,178,22],[217,28,178,24,"shardIds"],[217,36,178,32],[217,37,178,33,"length"],[217,43,178,39],[217,44,178,40],[218,6,179,2],[219,6,181,2,"console"],[219,13,181,9],[219,14,181,10,"log"],[219,17,181,13],[219,18,181,14],[219,54,181,50],[219,55,181,51],[220,6,182,2],[220,13,182,9],[221,8,182,11,"success"],[221,15,182,18],[221,17,182,20],[221,21,182,24],[222,8,182,26,"shards"],[223,6,182,33],[223,7,182,34],[224,4,183,0],[224,5,183,1],[225,4,183,1],[225,11,183,1,"_downloadAllShards"],[225,29,183,1],[225,30,183,1,"apply"],[225,35,183,1],[225,42,183,1,"arguments"],[225,51,183,1],[226,2,183,1],[227,2,183,1],[227,11,188,22,"cleanupShards"],[227,24,188,35,"cleanupShards"],[227,25,188,35,"_x10"],[227,29,188,35],[227,31,188,35,"_x11"],[227,35,188,35],[228,4,188,35],[228,11,188,35,"_cleanupShards"],[228,25,188,35],[228,26,188,35,"apply"],[228,31,188,35],[228,38,188,35,"arguments"],[228,47,188,35],[229,2,188,35],[230,2,201,0],[231,0,202,0],[232,0,203,0],[233,2,201,0],[233,11,201,0,"_cleanupShards"],[233,26,201,0],[234,4,201,0,"_cleanupShards"],[234,18,201,0],[234,25,201,0,"_asyncToGenerator"],[234,42,201,0],[234,43,201,0,"default"],[234,50,201,0],[234,52,188,7],[234,63,189,2,"shardIds"],[234,71,189,20],[234,73,190,2,"userId"],[234,79,190,16],[234,81,191,17],[235,6,192,2],[235,10,192,6],[236,8,193,4],[236,12,193,10,"supabase"],[236,20,193,18],[236,23,193,21],[236,27,193,21,"getSupabase"],[236,46,193,32],[236,47,193,32,"getSupabase"],[236,58,193,32],[236,60,193,33],[236,61,193,34],[237,8,194,4],[237,12,194,10,"filePaths"],[237,21,194,19],[237,24,194,22,"shardIds"],[237,32,194,30],[237,33,194,31,"map"],[237,36,194,34],[237,37,194,35,"id"],[237,39,194,37],[237,43,194,41],[237,46,194,44,"userId"],[237,52,194,50],[237,56,194,54,"id"],[237,58,194,56],[237,60,194,58],[237,61,194,59],[238,8,195,4],[238,14,195,10,"supabase"],[238,22,195,18],[238,23,195,19,"storage"],[238,30,195,26],[238,31,195,27,"from"],[238,35,195,31],[238,36,195,32,"STORAGE_BUCKET"],[238,55,195,46],[238,56,195,46,"STORAGE_BUCKET"],[238,70,195,46],[238,71,195,47],[238,72,195,48,"remove"],[238,78,195,54],[238,79,195,55,"filePaths"],[238,88,195,64],[238,89,195,65],[239,6,196,2],[239,7,196,3],[239,8,196,4],[239,15,196,11,"error"],[239,20,196,16],[239,22,196,18],[240,8,197,4,"console"],[240,15,197,11],[240,16,197,12,"error"],[240,21,197,17],[240,22,197,18],[240,49,197,45],[240,51,197,47,"error"],[240,56,197,52],[240,57,197,53],[241,6,198,2],[242,4,199,0],[242,5,199,1],[243,4,199,1],[243,11,199,1,"_cleanupShards"],[243,25,199,1],[243,26,199,1,"apply"],[243,31,199,1],[243,38,199,1,"arguments"],[243,47,199,1],[244,2,199,1],[245,2,199,1],[245,11,204,22,"deleteDocumentShards"],[245,31,204,42,"deleteDocumentShards"],[245,32,204,42,"_x12"],[245,36,204,42],[245,38,204,42,"_x13"],[245,42,204,42],[246,4,204,42],[246,11,204,42,"_deleteDocumentShards"],[246,32,204,42],[246,33,204,42,"apply"],[246,38,204,42],[246,45,204,42,"arguments"],[246,54,204,42],[247,2,204,42],[248,2,204,42],[248,11,204,42,"_deleteDocumentShards"],[248,33,204,42],[249,4,204,42,"_deleteDocumentShards"],[249,25,204,42],[249,32,204,42,"_asyncToGenerator"],[249,49,204,42],[249,50,204,42,"default"],[249,57,204,42],[249,59,204,7],[249,70,205,2,"shardIds"],[249,78,205,20],[249,80,206,2,"userId"],[249,86,206,16],[249,88,207,49],[250,6,208,2],[250,10,208,6],[251,8,209,4],[251,12,209,10,"supabase"],[251,20,209,18],[251,23,209,21],[251,27,209,21,"getSupabase"],[251,46,209,32],[251,47,209,32,"getSupabase"],[251,58,209,32],[251,60,209,33],[251,61,209,34],[252,8,210,4],[252,12,210,10,"filePaths"],[252,21,210,19],[252,24,210,22,"shardIds"],[252,32,210,30],[252,33,210,31,"map"],[252,36,210,34],[252,37,210,35,"id"],[252,39,210,37],[252,43,210,41],[252,46,210,44,"userId"],[252,52,210,50],[252,56,210,54,"id"],[252,58,210,56],[252,60,210,58],[252,61,210,59],[253,8,211,4],[253,12,211,4,"_yield$supabase$stora4"],[253,34,211,4],[253,43,211,28,"supabase"],[253,51,211,36],[253,52,211,37,"storage"],[253,59,211,44],[253,60,211,45,"from"],[253,64,211,49],[253,65,211,50,"STORAGE_BUCKET"],[253,84,211,64],[253,85,211,64,"STORAGE_BUCKET"],[253,99,211,64],[253,100,211,65],[253,101,211,66,"remove"],[253,107,211,72],[253,108,211,73,"filePaths"],[253,117,211,82],[253,118,211,83],[254,10,211,12,"error"],[254,15,211,17],[254,18,211,17,"_yield$supabase$stora4"],[254,40,211,17],[254,41,211,12,"error"],[254,46,211,17],[255,8,213,4],[255,12,213,8,"error"],[255,17,213,13],[255,19,213,15],[256,10,214,6],[256,17,214,13],[257,12,214,15,"success"],[257,19,214,22],[257,21,214,24],[257,26,214,29],[258,12,214,31,"error"],[258,17,214,36],[258,19,214,38,"error"],[258,24,214,43],[258,25,214,44,"message"],[259,10,214,52],[259,11,214,53],[260,8,215,4],[261,8,217,4],[261,15,217,11],[262,10,217,13,"success"],[262,17,217,20],[262,19,217,22],[263,8,217,27],[263,9,217,28],[264,6,218,2],[264,7,218,3],[264,8,218,4],[264,15,218,11,"error"],[264,20,218,21],[264,22,218,23],[265,8,219,4],[265,15,219,11],[266,10,219,13,"success"],[266,17,219,20],[266,19,219,22],[266,24,219,27],[267,10,219,29,"error"],[267,15,219,34],[267,17,219,36,"error"],[267,22,219,41],[267,23,219,42,"message"],[267,30,219,49],[267,34,219,53],[268,8,219,69],[268,9,219,70],[269,6,220,2],[270,4,221,0],[270,5,221,1],[271,4,221,1],[271,11,221,1,"_deleteDocumentShards"],[271,32,221,1],[271,33,221,1,"apply"],[271,38,221,1],[271,45,221,1,"arguments"],[271,54,221,1],[272,2,221,1],[273,0,221,1],[273,3]],"functionMap":{"names":["<global>","checkBucketAccess","uploadShard","uploadAllShards","downloadShard","Promise$argument_0","reader.onloadend","reader.onerror","downloadAllShards","cleanupShards","shardIds.map$argument_0","deleteDocumentShards"],"mappings":"AAA;OCgB;CDsB;OEM;CFkC;OGK;CHwB;OIK;2CCwB;yBCE,sCD;uBEC,8CF;KDE;CJQ;OQK;CR4B;OSK;mCCM,uBD;CTK;OWK;mCDM,uBC;CXW"},"hasCjsExports":false},"type":"js/module"}]}