{"dependencies":[{"name":"./supabaseClient","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":106},"end":{"line":4,"column":44,"index":150}}],"key":"Fd7w8mMawcXEor1Po+CqWnKxQDc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.signUp = signUp;\n  exports.signIn = signIn;\n  exports.signOut = signOut;\n  exports.getSession = getSession;\n  exports.onAuthStateChange = onAuthStateChange;\n  var _supabaseClient = require(_dependencyMap[0], \"./supabaseClient\");\n  // Authentication Service - Zero Knowledge Vault\n  // Supabase auth is for IDENTITY ONLY, not vault access\n\n  /**\n   * Sign up with email and password\n   * This creates identity only - vault setup happens separately\n   */\n  async function signUp(email, password) {\n    try {\n      const {\n        data,\n        error\n      } = await _supabaseClient.supabase.auth.signUp({\n        email,\n        password\n      });\n      if (error) {\n        return {\n          success: false,\n          error: error.message\n        };\n      }\n      if (data.user) {\n        return {\n          success: true,\n          user: {\n            id: data.user.id,\n            email: data.user.email || email\n          }\n        };\n      }\n      return {\n        success: false,\n        error: 'Failed to create account'\n      };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.message || 'Unknown error'\n      };\n    }\n  }\n\n  /**\n   * Sign in with email and password\n   */\n  async function signIn(email, password) {\n    try {\n      const {\n        data,\n        error\n      } = await _supabaseClient.supabase.auth.signInWithPassword({\n        email,\n        password\n      });\n      if (error) {\n        return {\n          success: false,\n          error: error.message\n        };\n      }\n      if (data.user) {\n        return {\n          success: true,\n          user: {\n            id: data.user.id,\n            email: data.user.email || email\n          }\n        };\n      }\n      return {\n        success: false,\n        error: 'Failed to sign in'\n      };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.message || 'Unknown error'\n      };\n    }\n  }\n\n  /**\n   * Sign out\n   */\n  async function signOut() {\n    await _supabaseClient.supabase.auth.signOut();\n  }\n\n  /**\n   * Get current session\n   */\n  async function getSession() {\n    try {\n      const {\n        data: {\n          session\n        }\n      } = await _supabaseClient.supabase.auth.getSession();\n      if (session?.user) {\n        return {\n          id: session.user.id,\n          email: session.user.email || ''\n        };\n      }\n      return null;\n    } catch (error) {\n      return null;\n    }\n  }\n\n  /**\n   * Listen to auth state changes\n   */\n  function onAuthStateChange(callback) {\n    return _supabaseClient.supabase.auth.onAuthStateChange((event, session) => {\n      if (session?.user) {\n        callback({\n          id: session.user.id,\n          email: session.user.email || ''\n        });\n      } else {\n        callback(null);\n      }\n    });\n  }\n});","lineCount":139,"map":[[7,2,17,0,"exports"],[7,9,17,0],[7,10,17,0,"signUp"],[7,16,17,0],[7,19,17,0,"signUp"],[7,25,17,0],[8,2,47,0,"exports"],[8,9,47,0],[8,10,47,0,"signIn"],[8,16,47,0],[8,19,47,0,"signIn"],[8,25,47,0],[9,2,77,0,"exports"],[9,9,77,0],[9,10,77,0,"signOut"],[9,17,77,0],[9,20,77,0,"signOut"],[9,27,77,0],[10,2,84,0,"exports"],[10,9,84,0],[10,10,84,0,"getSession"],[10,20,84,0],[10,23,84,0,"getSession"],[10,33,84,0],[11,2,104,0,"exports"],[11,9,104,0],[11,10,104,0,"onAuthStateChange"],[11,27,104,0],[11,30,104,0,"onAuthStateChange"],[11,47,104,0],[12,2,4,0],[12,6,4,0,"_supabaseClient"],[12,21,4,0],[12,24,4,0,"require"],[12,31,4,0],[12,32,4,0,"_dependencyMap"],[12,46,4,0],[13,2,1,0],[14,2,2,0],[16,2,13,0],[17,0,14,0],[18,0,15,0],[19,0,16,0],[20,2,17,7],[20,17,17,22,"signUp"],[20,23,17,28,"signUp"],[20,24,17,29,"email"],[20,29,17,42],[20,31,17,44,"password"],[20,39,17,60],[20,41,17,83],[21,4,18,2],[21,8,18,6],[22,6,19,4],[22,12,19,10],[23,8,19,12,"data"],[23,12,19,16],[24,8,19,18,"error"],[25,6,19,24],[25,7,19,25],[25,10,19,28],[25,16,19,34,"supabase"],[25,31,19,42],[25,32,19,42,"supabase"],[25,40,19,42],[25,41,19,43,"auth"],[25,45,19,47],[25,46,19,48,"signUp"],[25,52,19,54],[25,53,19,55],[26,8,20,6,"email"],[26,13,20,11],[27,8,21,6,"password"],[28,6,22,4],[28,7,22,5],[28,8,22,6],[29,6,24,4],[29,10,24,8,"error"],[29,15,24,13],[29,17,24,15],[30,8,25,6],[30,15,25,13],[31,10,25,15,"success"],[31,17,25,22],[31,19,25,24],[31,24,25,29],[32,10,25,31,"error"],[32,15,25,36],[32,17,25,38,"error"],[32,22,25,43],[32,23,25,44,"message"],[33,8,25,52],[33,9,25,53],[34,6,26,4],[35,6,28,4],[35,10,28,8,"data"],[35,14,28,12],[35,15,28,13,"user"],[35,19,28,17],[35,21,28,19],[36,8,29,6],[36,15,29,13],[37,10,30,8,"success"],[37,17,30,15],[37,19,30,17],[37,23,30,21],[38,10,31,8,"user"],[38,14,31,12],[38,16,31,14],[39,12,32,10,"id"],[39,14,32,12],[39,16,32,14,"data"],[39,20,32,18],[39,21,32,19,"user"],[39,25,32,23],[39,26,32,24,"id"],[39,28,32,26],[40,12,33,10,"email"],[40,17,33,15],[40,19,33,17,"data"],[40,23,33,21],[40,24,33,22,"user"],[40,28,33,26],[40,29,33,27,"email"],[40,34,33,32],[40,38,33,36,"email"],[41,10,34,8],[42,8,35,6],[42,9,35,7],[43,6,36,4],[44,6,38,4],[44,13,38,11],[45,8,38,13,"success"],[45,15,38,20],[45,17,38,22],[45,22,38,27],[46,8,38,29,"error"],[46,13,38,34],[46,15,38,36],[47,6,38,63],[47,7,38,64],[48,4,39,2],[48,5,39,3],[48,6,39,4],[48,13,39,11,"error"],[48,18,39,21],[48,20,39,23],[49,6,40,4],[49,13,40,11],[50,8,40,13,"success"],[50,15,40,20],[50,17,40,22],[50,22,40,27],[51,8,40,29,"error"],[51,13,40,34],[51,15,40,36,"error"],[51,20,40,41],[51,21,40,42,"message"],[51,28,40,49],[51,32,40,53],[52,6,40,69],[52,7,40,70],[53,4,41,2],[54,2,42,0],[56,2,44,0],[57,0,45,0],[58,0,46,0],[59,2,47,7],[59,17,47,22,"signIn"],[59,23,47,28,"signIn"],[59,24,47,29,"email"],[59,29,47,42],[59,31,47,44,"password"],[59,39,47,60],[59,41,47,83],[60,4,48,2],[60,8,48,6],[61,6,49,4],[61,12,49,10],[62,8,49,12,"data"],[62,12,49,16],[63,8,49,18,"error"],[64,6,49,24],[64,7,49,25],[64,10,49,28],[64,16,49,34,"supabase"],[64,31,49,42],[64,32,49,42,"supabase"],[64,40,49,42],[64,41,49,43,"auth"],[64,45,49,47],[64,46,49,48,"signInWithPassword"],[64,64,49,66],[64,65,49,67],[65,8,50,6,"email"],[65,13,50,11],[66,8,51,6,"password"],[67,6,52,4],[67,7,52,5],[67,8,52,6],[68,6,54,4],[68,10,54,8,"error"],[68,15,54,13],[68,17,54,15],[69,8,55,6],[69,15,55,13],[70,10,55,15,"success"],[70,17,55,22],[70,19,55,24],[70,24,55,29],[71,10,55,31,"error"],[71,15,55,36],[71,17,55,38,"error"],[71,22,55,43],[71,23,55,44,"message"],[72,8,55,52],[72,9,55,53],[73,6,56,4],[74,6,58,4],[74,10,58,8,"data"],[74,14,58,12],[74,15,58,13,"user"],[74,19,58,17],[74,21,58,19],[75,8,59,6],[75,15,59,13],[76,10,60,8,"success"],[76,17,60,15],[76,19,60,17],[76,23,60,21],[77,10,61,8,"user"],[77,14,61,12],[77,16,61,14],[78,12,62,10,"id"],[78,14,62,12],[78,16,62,14,"data"],[78,20,62,18],[78,21,62,19,"user"],[78,25,62,23],[78,26,62,24,"id"],[78,28,62,26],[79,12,63,10,"email"],[79,17,63,15],[79,19,63,17,"data"],[79,23,63,21],[79,24,63,22,"user"],[79,28,63,26],[79,29,63,27,"email"],[79,34,63,32],[79,38,63,36,"email"],[80,10,64,8],[81,8,65,6],[81,9,65,7],[82,6,66,4],[83,6,68,4],[83,13,68,11],[84,8,68,13,"success"],[84,15,68,20],[84,17,68,22],[84,22,68,27],[85,8,68,29,"error"],[85,13,68,34],[85,15,68,36],[86,6,68,56],[86,7,68,57],[87,4,69,2],[87,5,69,3],[87,6,69,4],[87,13,69,11,"error"],[87,18,69,21],[87,20,69,23],[88,6,70,4],[88,13,70,11],[89,8,70,13,"success"],[89,15,70,20],[89,17,70,22],[89,22,70,27],[90,8,70,29,"error"],[90,13,70,34],[90,15,70,36,"error"],[90,20,70,41],[90,21,70,42,"message"],[90,28,70,49],[90,32,70,53],[91,6,70,69],[91,7,70,70],[92,4,71,2],[93,2,72,0],[95,2,74,0],[96,0,75,0],[97,0,76,0],[98,2,77,7],[98,17,77,22,"signOut"],[98,24,77,29,"signOut"],[98,25,77,29],[98,27,77,47],[99,4,78,2],[99,10,78,8,"supabase"],[99,25,78,16],[99,26,78,16,"supabase"],[99,34,78,16],[99,35,78,17,"auth"],[99,39,78,21],[99,40,78,22,"signOut"],[99,47,78,29],[99,48,78,30],[99,49,78,31],[100,2,79,0],[102,2,81,0],[103,0,82,0],[104,0,83,0],[105,2,84,7],[105,17,84,22,"getSession"],[105,27,84,32,"getSession"],[105,28,84,32],[105,30,84,57],[106,4,85,2],[106,8,85,6],[107,6,86,4],[107,12,86,10],[108,8,86,12,"data"],[108,12,86,16],[108,14,86,18],[109,10,86,20,"session"],[110,8,86,28],[111,6,86,30],[111,7,86,31],[111,10,86,34],[111,16,86,40,"supabase"],[111,31,86,48],[111,32,86,48,"supabase"],[111,40,86,48],[111,41,86,49,"auth"],[111,45,86,53],[111,46,86,54,"getSession"],[111,56,86,64],[111,57,86,65],[111,58,86,66],[112,6,88,4],[112,10,88,8,"session"],[112,17,88,15],[112,19,88,17,"user"],[112,23,88,21],[112,25,88,23],[113,8,89,6],[113,15,89,13],[114,10,90,8,"id"],[114,12,90,10],[114,14,90,12,"session"],[114,21,90,19],[114,22,90,20,"user"],[114,26,90,24],[114,27,90,25,"id"],[114,29,90,27],[115,10,91,8,"email"],[115,15,91,13],[115,17,91,15,"session"],[115,24,91,22],[115,25,91,23,"user"],[115,29,91,27],[115,30,91,28,"email"],[115,35,91,33],[115,39,91,37],[116,8,92,6],[116,9,92,7],[117,6,93,4],[118,6,95,4],[118,13,95,11],[118,17,95,15],[119,4,96,2],[119,5,96,3],[119,6,96,4],[119,13,96,11,"error"],[119,18,96,16],[119,20,96,18],[120,6,97,4],[120,13,97,11],[120,17,97,15],[121,4,98,2],[122,2,99,0],[124,2,101,0],[125,0,102,0],[126,0,103,0],[127,2,104,7],[127,11,104,16,"onAuthStateChange"],[127,28,104,33,"onAuthStateChange"],[127,29,104,34,"callback"],[127,37,104,71],[127,39,104,73],[128,4,105,2],[128,11,105,9,"supabase"],[128,26,105,17],[128,27,105,17,"supabase"],[128,35,105,17],[128,36,105,18,"auth"],[128,40,105,22],[128,41,105,23,"onAuthStateChange"],[128,58,105,40],[128,59,105,41],[128,60,105,42,"event"],[128,65,105,47],[128,67,105,49,"session"],[128,74,105,56],[128,79,105,61],[129,6,106,4],[129,10,106,8,"session"],[129,17,106,15],[129,19,106,17,"user"],[129,23,106,21],[129,25,106,23],[130,8,107,6,"callback"],[130,16,107,14],[130,17,107,15],[131,10,108,8,"id"],[131,12,108,10],[131,14,108,12,"session"],[131,21,108,19],[131,22,108,20,"user"],[131,26,108,24],[131,27,108,25,"id"],[131,29,108,27],[132,10,109,8,"email"],[132,15,109,13],[132,17,109,15,"session"],[132,24,109,22],[132,25,109,23,"user"],[132,29,109,27],[132,30,109,28,"email"],[132,35,109,33],[132,39,109,37],[133,8,110,6],[133,9,110,7],[133,10,110,8],[134,6,111,4],[134,7,111,5],[134,13,111,11],[135,8,112,6,"callback"],[135,16,112,14],[135,17,112,15],[135,21,112,19],[135,22,112,20],[136,6,113,4],[137,4,114,2],[137,5,114,3],[137,6,114,4],[138,2,115,0],[139,0,115,1],[139,3]],"functionMap":{"names":["<global>","signUp","signIn","signOut","getSession","onAuthStateChange","supabase.auth.onAuthStateChange$argument_0"],"mappings":"AAA;OCgB;CDyB;OEK;CFyB;OGK;CHE;OIK;CJe;OKK;yCCC;GDS;CLC"},"hasCjsExports":false},"type":"js/module"}]}